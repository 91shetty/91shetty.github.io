<!DOCTYPE html>
<html lang = "en">
	<head>
		<title> Branch History for Main_new</title>
		<script type="text/javascript" src="d3/d3.js"></script>
	</head>
	<body>
		<script type="text/javascript">
			var margin = {top: 20, right: 100, bottom: 20, left: 100},
				    width = 1400 - margin.right - margin.left,
				    height = 800 - margin.top - margin.bottom;

			var parseDate = d3.time.format("%x").parse;
			var x = d3.time.scale()
    				.range([0, width]);
    		var root;
    		var branchName = function(d){
    			return d.name;
    		}
    		var date = function(d){
    			return parseDate(d.parseDate);
    		}
    		var devsWorking = function(d){
    			return d.dev;
    		}
    		var branchDesc = function(d){
    			return d.desc;
    		}
    		var branchStatus = function(d){
    			return d.active;
    		}

			var svg = d3.select("body").append("svg")
				    .attr("width", width + margin.right + margin.left)
				    .attr("height", height + margin.top + margin.bottom)
				    .append("g")
			    	.attr("transform", "translate(" + margin.left + "," + margin.top + ")");

			d3.json("branch_data.json", function(error, branchData) {
				root = branchData;
				drawMainBranch(root);
				root.branches.forEach(drawBranch);
			}

			svg.append("marker")
			   .attr("id","triangle")
			   .attr("viewBox","0 0 10 10")
			   .attr("refX","0")
			   .attr("refY","5")
			   .attr("markerWidth","4")
			   .attr("markerHeight","3")
			   .attr("orient","auto")
			   .append("path")
			   .attr("d","M0,0L10,5L0,10");

			function drawMainBranch(d){
				svg.append("line")
			   .attr("x1",margin.left)
			   .attr("y1",height/2)
			   .attr("x2",width)
			   .attr("y2",height/2)
			   .attr("stroke","green")
			   .attr("stroke-width","2")
			   .attr("marker-end","url(#triangle)");	
			}

			function drawBranch(d){

			}
			
		</script>
	</body>
</html>